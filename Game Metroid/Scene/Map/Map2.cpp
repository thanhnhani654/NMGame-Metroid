#include "Map2.h"

void Map2::Generating(Camera* camera)
{
	SetStartPoint(16 * 80, -16 * 75);
	bActive = true;
	SetMapSize(16, 90);

	int* map[90];

	map[89] = new int[16]{ 17,	30,	0,	0,	0,	0,	0,	31,	0,	30,	0,	0,	0,	0,	17,	0, };
	map[88] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[87] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[86] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[85] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[84] = new int[16]{ 25,	27,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	26,	25, };
	map[83] = new int[16]{ 0,	0,	0,	0,	13,	7,	7,	7,	7,	7,	7,	13,	0,	0,	0,	0, };
	map[82] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[81] = new int[16]{ 16,	0,	0,	0,	7,	7,	7,	7,	7,	7,	7,	7,	18,	0,	0,	0, };
	map[80] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[79] = new int[16]{ 0,	0,	0,	0,	0,	0,	7,	7,	7,	7,	0,	0,	0,	0,	0,	0, };
	map[78] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[77] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[76] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[75] = new int[16]{ 0,	0,	0,	0,	0,	0,	7,	7,	7,	7,	0,	0,	0,	0,	0,	0, };
	map[74] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[73] = new int[16]{ 0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[72] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[71] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[70] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[69] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[68] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[67] = new int[16]{ 0,	0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[66] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	36,	0,	0,	0,	0,	0, };
	map[65] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[64] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[63] = new int[16]{ 0,	0,	0,	0,	0,	0,	37,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[62] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[61] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[60] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[59] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[58] = new int[16]{ 0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[57] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[56] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[55] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[54] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[53] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[52] = new int[16]{ 0,	0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[51] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	36,	0,	0,	0,	0,	0, };
	map[50] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[49] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[48] = new int[16]{ 0,	0,	0,	0,	0,	0,	37,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[47] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[46] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[45] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[44] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[43] = new int[16]{ 0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[42] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[41] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[40] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[39] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[38] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[37] = new int[16]{ 0,	0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[36] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	36,	0,	0,	0,	0,	0, };
	map[35] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[34] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[33] = new int[16]{ 0,	0,	0,	0,	0,	0,	37,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[32] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[31] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[30] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[29] = new int[16]{ 17,	0,	37,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[28] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[27] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[26] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[25] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[24] = new int[16]{ 17,	0,	0,	0,	0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	26,	25, };
	map[23] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[22] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[21] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	36,	0,	0,	17,	0, };
	map[20] = new int[16]{ 0,	0,	36,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[19] = new int[16]{ 17,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[18] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[17] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	37,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[16] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	17,	0, };
	map[15] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[14] = new int[16]{ 18,	0,	0,	0,	18,	0,	0,	0,	18,	0,	0,	0,	18,	0,	0,	0, };
	map[13] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[12] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[11] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[10] = new int[16]{ 18,	0,	0,	0,	18,	0,	0,	0,	18,	0,	0,	0,	18,	0,	0,	0, };
	map[9] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[8] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[7] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[6] = new int[16]{ 18,	0,	0,	0,	18,	0,	0,	0,	18,	0,	0,	0,	18,	0,	0,	0, };
	map[5] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[4] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[3] = new int[16]{ 18,	0,	0,	0,	18,	0,	0,	0,	18,	0,	0,	0,	18,	0,	0,	0, };
	map[2] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[1] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };
	map[0] = new int[16]{ 0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0,	0, };

	SetMap(map);


	//Box Collider
	_Box1 = new BlockBox();
	_Box1->Initialize(StartPointX, StartPointY + 16 * 80, 16 * 16, 16 * 1);
	_Box1->id = 1;
	_Box1->DebugName = 1;

	_BoxList.push_back(_Box1);


	_Camera = camera;
}

void Map2::MapActive()
{
	TilesMap::MapActive();
	//_Camera->SetFollowY();
}

void Map2::Update()
{
	if (IsActive())
	{
		for (std::vector<BlockBox*>::iterator it = _BoxList.begin(); it != _BoxList.end(); ++it)
		{
			(*it)->Update();
		}
	}
}

void Map2::DrawDebugBox(LPDIRECT3DDEVICE9 id3ddv, int vpx, int vpy)
{
	if (IsActive())
	{
		DebugDraw DebugBox;
		DebugBox.Initialize(id3ddv, vpx, vpy);

		for (std::vector<BlockBox*>::iterator it = _BoxList.begin(); it != _BoxList.end(); ++it)
		{
			DebugBox.DrawBox((*it)->Box->GetBoundingBox());
		}
	}
}